---

## 進入 vim

| 命令                    | 描述                                              |
| ----------------------- | ------------------------------------------------- |
| vim filename            | 打開或新建文件，並將光標誌於第一行首              |
| vim + n filename        | 打開文件，並將光標置於第 n 行首                   |
| vim + filename          | 打開文件，並將光標置於最後一行首                  |
| vim + /pattern filename | 打開文件，並將光標置於第一個與 pattern 匹配的串處 |
| vim -r filename         | 在上次正用 vim 編輯時發生系統崩潰，恢覆 filename  |
| vim filename….filename  | 打開多個文件，依次編輯                            |

## vim 配置

| 命令                       | 描述                                                           |
| -------------------------- | -------------------------------------------------------------- |
| all                        | 列出所有選項設置情況                                           |
| term                       | 設置終端類型                                                   |
| ignorance                  | 在搜索中忽略大小寫                                             |
| list                       | 顯示制表位(Ctrl + I)和行尾標志（$)                             |
| number                     | 顯示行號                                                       |
| report                     | 顯示由面向行的命令修改過的數目                                 |
| terse                      | 顯示簡短的警告信息                                             |
| warn                       | 在轉到別的文件時若沒保存當前文件則顯示 NO write 信息           |
| nomagic                    | 允許在搜索模式中，使用前面不帶“\”的特殊字符                    |
| nowrapscan                 | 禁止 vi 在搜索到達文件兩端時，又從另一端開始                   |
| mesg                       | 允許 vi 顯示其他用戶用 write 寫到自己終端上的信息              |
| :set number / set nonumber | 顯示/不顯示行號                                                |
| :set ruler /set noruler    | 顯示/不顯示標尺                                                |
| :set hlsearch              | 高亮顯示查找到的單詞                                           |
| :set nohlsearch            | 關閉高亮顯示                                                   |
| :syntax on                 | 語法高亮                                                       |
| :set nu                    | 顯示行號                                                       |
| :set ignorecase            | 搜索時忽略大小寫                                               |
| :set smartcase             | 搜索時匹配大小寫                                               |
| :set ruler                 | 顯示光標位置坐標                                               |
| :set hlsearch              | 搜索匹配全高亮                                                 |
| :set tabstop=8             | 設置 tab 大小,8 為最常用最普遍的設置                           |
| :set softtabstop=8         | 4:4 個空格,8:正常的制表符,12:一個制表符 4 個空格,16:兩個制表符 |
| :set autoindent            | 自動縮進                                                       |
| :set cindent               | C 語言格式里面的自動縮進                                       |

## 移動光標

| 命令      | 描述                                     |
| --------- | ---------------------------------------- |
| k nk      | 上 向上移動 n 行                         |
| j nj      | 下 向下移動 n 行                         |
| h nh      | 左 向左移動 n 行                         |
| l nl      | 右 向右移動 n 行                         |
| Space     | 光標右移一個字符                         |
| Backspace | 光標左移一個字符                         |
| Enter     | 光標下移一行                             |
| w/W       | 光標右移一個字至字首                     |
| b/B       | 光標左移一個字至字首                     |
| e 或 E    | 光標右移一個字至字尾                     |
| )         | 光標移至句尾                             |
| (         | 光標移至句首                             |
| }         | 光標移至段落開頭                         |
| {         | 光標移至段落結尾                         |
| n$        | 光標移至第 n 行尾                        |
| H         | 光標移至屏幕頂行                         |
| M         | 光標移至屏幕中間行                       |
| L         | 光標移至屏幕最後行                       |
| 0         | （注意是數字零）光標移至當前行首         |
| ^         | 移動光標到行首第一個非空字符上去         |
| $         | 光標移至當前行尾                         |
| gg        | 移到第一行                               |
| G         | 移到最後一行                             |
| f<a>      | 移動光標到當前行的字符 a 上              |
| F         | 相反                                     |
| %         | 移動到與制匹配的括號上去（），{}，[]，等 |
| nG        | 移動到第 n 行上                          |
| G         | 到最後一行                               |

## 屏幕滾動

| 命令     | 描述                                                   |
| -------- | ------------------------------------------------------ |
| Ctrl + e | 向文件首翻一行                                         |
| Ctrl + y | 向文件尾翻一行                                         |
| Ctrl + u | 向文件首翻半屏                                         |
| Ctrl + d | 向文件尾翻半屏                                         |
| Ctrl + f | 向文件尾翻一屏                                         |
| Ctrl + b | 向文件首翻一屏                                         |
| nz       | 將第 n 行滾至屏幕頂部，不指定 n 時將當前行滾至屏幕頂部 |

## 插入文本類

| 命令    | 描述                                                 |
| ------- | ---------------------------------------------------- |
| i       | 在光標前                                             |
| I       | 在當前行首                                           |
| a       | 光標後                                               |
| A       | 在當前行尾                                           |
| o       | 在當前行之下新開一行                                 |
| O       | 在當前行之上新開一行                                 |
| r       | 替換當前字符                                         |
| R       | 替換當前字符及其後的字符，直至按 ESC 鍵              |
| s       | 從當前光標位置處開始，以輸入的文本替代指定數目的字符 |
| S       | 刪除指定數目的行，並以所輸入文本代替之               |
| ncw/nCW | 修改指定數目的字                                     |
| nCC     | 修改指定數目的行                                     |
| ci%     | 修改匹配的符號(),{},[],'',"",等                      |

## 刪除命令

| 命令      | 描述                                             |
| --------- | ------------------------------------------------ |
| x/X       | 刪除一個字符，x 刪除光標後的，而 X 刪除光標前的  |
| dw        | 刪除一個單詞(刪除光標位置到下一個單詞開始的位置) |
| dnw       | 刪除 n 個單詞                                    |
| dne       | 也可，只是刪除到單詞尾                           |
| do        | 刪至行首                                         |
| d$        | 刪至行尾                                         |
| dd        | 刪除一行                                         |
| ndd       | 刪除當前行及其後 n-1 行                          |
| dnl       | 向右刪除 n 個字母                                |
| dnh       | 向左刪除 n 個字母                                |
| dnj       | 向下刪除 n 行,當前行 + 其上 n 行                 |
| dnk       | 向上刪除 n 行,當期行 + 其下 n 行                 |
| cnw[word] | 將 n 個 word 改變為 word                         |
| di%       | 刪除匹配的符號中內容(),{},[],'',"",等            |
| C$        | 改變到行尾                                       |
| cc        | 改變整行                                         |
| Shift + j | 刪除行尾的換行符，下一行接上來了                 |

## 複製貼上

| 命令 | 描述                     |
| ---- | ------------------------ |
| p    | 複製用 x 或 d 刪除的文本 |
| ynw  | 複製 n 個單詞            |
| yy   | 複製一行                 |
| ynl  | 複製 n 個字符            |
| y$   | 複製當前光標至行尾處     |
| nyy  | 複製 n 行                |

## 撤銷

| 命令        | 描述                 |
| ----------- | -------------------- |
| u           | 撤銷前一次的操作     |
| Shif + u(U) | 撤銷對該行的所有操作 |

## 搜索及替換

| 命令               | 描述                                                        |
| ------------------ | ----------------------------------------------------------- |
| /pattern           | 從光標開始處向文件尾搜索 pattern                            |
| ?pattern           | 從光標開始處向文件首搜索 pattern                            |
| n                  | 在同一方向重覆上一次搜索命令                                |
| N                  | 在反方向上重覆上一次搜索命令                                |
| cw newword         | 替換為 newword                                              |
| n                  | 繼續查找                                                    |
| .                  | 執行替換                                                    |
| :s/old/new/g       | 將當前行中所有 p1 均用 p2 替代,g 表示執行 用 c 表示需要確認 |
| :n1,n2 s/old/new/g | 將第 n1 至 n2 行中所有 p1 均用 p2 替代                      |
| :1,$ s/old/new/g   | 在全文中將 string1 替換為 string2                           |
| :%s/old/new/g      | 當前文件中所有 old 替代成 new                               |

## 文字排版

| 命令 | 描述                   |
| ---- | ---------------------- |
| gq   | 對選中的文字重排       |
| gqq  | 重排當前行             |
| j    | 將多行合併為一行       |
| ==   | 自動縮排               |
| gg=G | 當前文件所有行自動縮排 |

| ## 書籤 |
| 命令 | 描述 |
| -------- | --------------------------------------- |
| m[a-z] | 在文中做標記，標記號可為 a-z 的 26 個字母 |
| `a` | 移動到標記 a 處 |

## visual 模式

| 命令     | 描述                                       |
| -------- | ------------------------------------------ |
| v        | 進入 visual 模式                           |
| V        | 進入行的 visual 模式                       |
| Ctrl + v | 進如塊操作模式用 o 和 O 改變選擇的邊的大小 |

## 行方式命令

| 命令         | 描述                                       |
| ------------ | ------------------------------------------ |
| :n1,n2 co n3 | 將 n1 行到 n2 行之間的內容拷貝到第 n3 行下 |
| :n1,n2 m n3  | 將 n1 行到 n2 行之間的內容移至到第 n3 行下 |
| :n1,n2 d     | 將 n1 行到 n2 行之間的內容刪除             |

## 宏

| 命令   | 描述                                                             |
| ------ | ---------------------------------------------------------------- |
| q[a-z] | 開始記錄但前開始的操作為宏，名稱可為【a-z】，然後用 q 終止錄制宏 |
| reg    | 顯示當前定義的所有的宏，用@[a-z]來在當前光標處執行宏[a-z]        |

## 窗口操作

| 命令           | 描述                                       |
| -------------- | ------------------------------------------ |
| :split         | 分割一個窗口                               |
| :split file.c  | 為另一個文件 file.c 分隔窗口               |
| :nsplit file.c | 為另一個文件 file.c 分隔窗口，並指定其行數 |
| Ctrl + ww      | 在窗口中切換                               |
| Ctrl + ws      | 水平分割視窗                               |
| Ctrl + wv      | 垂直分割視窗                               |
| Ctrl + wq      | 關閉視窗                                   |
| Ctrl + w=      | 使所有視窗等高等寬                         |
| Ctrl + wh      | 光標跳至左視窗                             |
| Ctrl + wj      | 光標跳至下視窗                             |
| Ctrl + wh      | 光標跳至上視窗                             |
| Ctrl + wl      | 光標跳至右視窗                             |
| Ctrl + wc      | 關閉當前視窗                               |
| Ctrl + wr      | 反轉交換窗口                               |
| Ctrl + w       | 橫向調整當前窗口                           |
| Ctrl + w\_     | 縱向調整當前窗口                           |
| Ctrl + wc      | 關閉當前視窗                               |
| :close         | 關閉當前窗口                               |

## 文件及其他

| 命令         | 描述                                         |
| ------------ | -------------------------------------------- |
| :q           | 退出 vi                                      |
| :q!          | 不保存文件並退出 vi                          |
| :e filename  | 打開文件 filename 進行編輯                   |
| :e!          | 放棄修改文件內容，重新載入該文件編輯         |
| :w           | 保存當前文件                                 |
| :wq          | 存盤退出                                     |
| :ZZ          | 保存當前文檔並退出 VIM                       |
| :!command    | 執行 shell 命令 command                      |
| :r!command   | 將命令 command 的輸出結果放到當前行          |
| :read file.c | 將文件 file.c 的內容插入到當前光標所在的下面 |
